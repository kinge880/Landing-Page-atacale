{% extends 'reusables/base.html' %}
{% load static %}
{% block title %}Trabalhe conosco{% endblock %}
{% block content %}
    <div>
        <!--<section class="page-section" id="vagas">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Vagas disponíveis</h2>
                    <p class="text-muted">Caso sua vaga não apareça entre os cartões pode ficar tranquilo e enviar sua inscrição baiaxo! Sempre precisamos de novos talentos e próximo pode ser você :)</p>
                </div>
                <div class="col-12 d-flex justify-content-center">
                    <div id="carouselExampleCaptions" class="carousel slide col-8" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for vaga in vagas %}
                                {% if forloop.first %}
                                    <div class="carousel-item active">
                                        <img src="/media/{{vaga.imagemDaVaga}}" class="d-block w-100" alt="...">
                                        <div class="carousel-caption d-none d-md-block">
                                        </div>
                                    </div>
                                {% elif vaga.ativo and vaga.imagemDaVaga%}
                                    <div class="carousel-item">
                                        <img src="/media/{{vaga.imagemDaVaga}}" class="d-block w-100" alt="...">
                                        <div class="carousel-caption d-none d-md-block">
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Próximo</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>-->

        <section class="page-section" id="contact">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">TRABALHE CONOSCO</h2>
                    <h3 class="section-subheading text-muted">Se você procura um lugar onde possa colaborar com trabalho de qualidade e dedicação, a família Atacale 
                        muito provavelmente tem um lugar reservado para você. Preencha o formulário abaixo e cadastre-se agora mesmo! Venha fazer parte desse novo super time!</h3>
                </div>
                
                {% include "landpage/form.html" %}
            </div>
            
            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <i class="fa fa-spinner fa-10x fa-spin"  style="color: #eb6830;"></i>
                    </div>
                    <div class="text-center">
                        <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                              <div class="carousel-item active" data-bs-interval="5000">
                                Estamos preparando tudo por aqui...
                              </div>
                              <div class="carousel-item" data-bs-interval="3000">
                                Vai ser muito bom trabalhar com você ;)
                              </div>
                              <div class="carousel-item" data-bs-interval="5000">
                                Só mais um momento... Ok?
                              </div>
                              <div class="carousel-item" data-bs-interval="3000">
                                Desejamos boa sorte para você :)
                              </div>
                              <div class="carousel-item" data-bs-interval="5000">
                                Estamos quase la...
                              </div>
                            </div>
                          </div>
                    </div>
                </div>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="fotomodal" data-bs-keyboard="false" tabindex="-1" aria-labelledby="fotomodalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Foto inválido</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        A foto enviada não pode ser aceita. Sua foto deve ter o tamanho máximo de <strong>3MB</strong>, além disso ela deve estar no formato <strong>PNG</strong> ou <strong>JPG</strong>, feche esse aviso e tente novamente.
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                      </div>
                    </div>
                  </div>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="curriculomodal" data-bs-keyboard="false" tabindex="-1" aria-labelledby="fotomodalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Curriculo inválido</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        Seu curriculo não pode ser aceito. Apenas curriculos de até <strong>10MB</strong> e no formato <strong>PDF</strong> são permitidos, reduza o tamanho do arquivo ou salve como PDF e tente novamente.
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                      </div>
                    </div>
                  </div>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="suporteomodal" data-bs-keyboard="false" tabindex="-1" aria-labelledby="fotomodalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Suporte ao candidato Atacale</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <p class="text-justify"> Encontrou algum problema durante sua inscrição? Encontrou algum bug no sistema? </p> 
                        <p class="text-justify"> Então por favor entre em contato atráves do email <a href="mailto:suporte@atacale.com.br?subject=Preciso de ajuda!">suporte@atacale.com.br</a> 
                            e informe em detalhes o seu problema e/ou dúvida. Um membro da nossa equipe irá buscar uma solução assim que for possível!</P>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
        </section>
        
        <!-- Bootstrap core JS-->
        <script>
            (function () {
                'use strict'
              
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.querySelectorAll('.needs-validation')
              
                // Loop over them and prevent submission
                Array.prototype.slice.call(forms)
                  .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                      if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                      }else{
                        $('#staticBackdrop').modal('toggle');
                      }

                      form.classList.add('was-validated')
                        $('html,body').animate({scrollTop: $('.was-validated .form-control:invalid, .was-validated .form-select:invalid').first().offset().top - 300}, 1000);
              
                    }, false)
                  })
              })()
            
        </script>
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://cdn.jsdelivr.net/npm/@dashboardcode/bsmultiselect@1.1.18/dist/js/BsMultiSelect.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@dashboardcode/bsmultiselect@1.1.18/dist/js/BsMultiSelect.esm.min.js"></script>
        <!-- Core theme JS-->
        <script>
            var $multiSelects = $("select[multiple='multiple']");
            function install(){
                $multiSelects.bsMultiSelect();
            }
            install();  
        </script>
    </div>
{% endblock %}